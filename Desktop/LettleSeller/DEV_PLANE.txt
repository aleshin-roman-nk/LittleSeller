08_06_2018
Cost accounting development
Разработка учета затрат

Таблица расходов на продукты и хозтовары. Две кнопки: продукты, хозтовары. Программно устанавливать тип.
Таблица наличностей. Одна строка на месяц. Вписывание реальной суммы наличности.
	Или в раз в смену добавлять строку "Крупными"
Таблица начисления зп. ФИО, фиксированные, количество смен, стоимость смены. Аренда здесь же.

==================

В перспективе перевести на EF/SQLite
В релизе локализовать расположение базы в локальной подпапке приложения.
При этом пересохранить проект под новой версией 1_2

Отдельным проектом классы сущности, контекста EF
М.б. наружу функционал добавления, сохранения, загрузки... А не прямой доступ к AppData: DbContext

Еще раз напомнить памятку. Настроить, создать шаблон-фреймворк работы с EF-SQLite
		Пространство имен BL
==================

Еще замечено. Если в Product имеется настроенная весовка, в таблице выдавать эти варианты
		-Переделать следующим образом: свойства Price/Weight исправить get/set.
			+Но нет. Если диктионари пустой, берем из полей Price/Weight... как реализовать?

=================

Реализовать отправку сменного меню на сервер.
В сущность меню добавить сменный отчет. Запрос от оператора сколько в кассе... Вобщем см. существующий лист меню за основу
сущности.
Касательно перехода на EF. Либо разные таблицы (Исходных продуктов, входящих в сменное меню, входящих в чек).
	Либо единая таблица, но ссылка на хозяина: сущность коллекция исходных продуктов, сущность сменного меню,
	сущность чек. Отдельная таблица-оглавление сущностей-коллекций с именами:
	SourceProducts - сущность коллекция исходных продуктов
	TM_DD_MM_YYYY - сущность коллекция сменного меню за число.
	CV_DD_MM_YYYY - сущность коллекция чеков за указанное число
	Эти сущности имеют дату, свой ID, свой тип. Поэтому можем делать выборку по дате и типу.
		Сущность исходных продуктов так и вытаскиваем по имени.
		Сущность Product ссылается посредством поля ParentID
		При всем этом придется использовать работу с отсоединенными от контекста данными.
		Метод СохранитьОдинПродукт, Метод СохранитьСписокПродуктов.
		Либо через матрицу фильтра выделять список дочерних объектов, если используем единожды созданный AppData.

==================
1[ok]. Добавить фильтр по буквам. Если набрана одна буква, искать по первой, если больше одной, искать в теле имени.
	Сброс фильтра по выбору категории или всех.

 express M2070

2. Добавить модуль учета расходов

3. Отправка меню, расходов на сервер

===================================================================
08_08_2018 ПРОБЛЕМЫ ПРОЕКТА
Ненадежный механизм удаления пунктов из чека в плане фиксации этого на сервере.
Локально пунк удаляется, и если в момент выполнения механизма сбой со связью, мы не имеем уверенности, что картина на сервере зафиксировалась

17_09_2018
{
	Создать промежуточный умный буффер отправки на сервер. В отдельном потоке. В него добавляется экземпляр чека, затем происходит отправка.
		Если сбой в отправке, пропустить. Если отправка удалась (сервер ответил подтверждением) перенести из очереди в хранилище закоммитеных чеков.

	Сущность чека - отдельный класс, который сериализуется полностью, включая все входящие пункты.
		Дата и время / id / коллекция пунктов.
		--Не сущность чека а сущность команды: INSERT, UPDATE, DELETE.

	Механизм транзакции:
		на сервере добавляем таблицу id - ukey.
		Клиент запрашивает новый ukey.
		Сервер выполняет генерацию ключа, добавляет в таблицу ключей и отправляет ключ клиенту.
		Клиент присваивает сущности транзакции ukey и отпрвляет сущность на сервер.
		Если сервер отвечает, что сущность принята и сохранена в бд, клиент переносит ее из буфера транзакий в локальное хранилище,
				иначе переходит в следующей транзакции.

}